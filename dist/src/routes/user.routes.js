"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const user_schema_1 = require("./../schemas/user.schema");
const express_1 = require("express");
const user_controller_1 = require("../controllers/user.controller");
const isAuth_middleware_1 = require("../middlewares/isAuth.middleware");
const validate_1 = require("../middlewares/validate");
const userRoutes = (0, express_1.Router)();
userRoutes.get('/:userId', isAuth_middleware_1.isAuth, user_controller_1.oneUserHandler);
userRoutes.get('/profile-viewers/:id', isAuth_middleware_1.isAuth, user_controller_1.visitUserProfileHandler);
userRoutes.get('/following/:id', isAuth_middleware_1.isAuth, user_controller_1.followerUserHandler);
userRoutes.get('/unfollowing/:id', isAuth_middleware_1.isAuth, user_controller_1.unFollowerUserHandler);
userRoutes.get('/blocking/:id', isAuth_middleware_1.isAuth, user_controller_1.blockUserHandler);
userRoutes.get('/unblocking/:id', isAuth_middleware_1.isAuth, user_controller_1.unBlockUserHandler);
userRoutes.put('/admin-block/:id', isAuth_middleware_1.isAuth, (0, isAuth_middleware_1.restrictTo)('ADMIN'), user_controller_1.adminBlockUserHandler);
userRoutes.put('/admin-unblock/:id', isAuth_middleware_1.isAuth, (0, isAuth_middleware_1.restrictTo)('ADMIN'), user_controller_1.adminUnBlockUserHandler);
userRoutes.put('/', isAuth_middleware_1.isAuth, (0, validate_1.validate)(user_schema_1.updateUserSchema), user_controller_1.updateUserInfoHandler);
userRoutes.put('/change-password', isAuth_middleware_1.isAuth, (0, validate_1.validate)(user_schema_1.updatePasswordSchema), user_controller_1.changeUserPasswordHandler);
userRoutes.post('/forgot-password', isAuth_middleware_1.isAuth, user_controller_1.forgotPasswordHandler);
userRoutes.put('/reset-password/:resetToken', isAuth_middleware_1.isAuth, user_controller_1.resetPasswordHandler);
userRoutes.delete('/delete-account', isAuth_middleware_1.isAuth, user_controller_1.deleteAccountHanlder);
exports.default = userRoutes;
